"use strict";(self.webpackChunktools_app_webpack=self.webpackChunktools_app_webpack||[]).push([[125],{8260:(e,l,a)=>{var o=a(3751),t=a(8848),r=(a(8134),a(5620),a(7710)),u=(a(2120),a(1627),a(7879)),s=(a(3474),a(8574)),n=(a(2636),a(641)),d=a(953),i=a(5214),c=a(8548),p=a(9942),m=(a(6446),a(7540),a(9771)),g=(a(5455),a(6498)),v=(a(754),a(1601),a(566)),b=(a(4576),a(6930)),k=(a(6917),a(33));const f={class:"base-info-form"},_=(0,n.pM)({__name:"BaseInfoForm",props:{modelValue:{},originOptions:{},paramOptions:{}},emits:["update:modelValue","create-param"],setup(e,{emit:l}){const a=e,o=l,t=e=>{const l=e.map(e=>{const l=String(e),o=a.paramOptions.find(e=>e.value===l),t=a.modelValue.paramsInput.find(e=>e.key===l);return{value:t?t.value:"",label:o?o.label:"",key:l}});o("update:modelValue",{...a.modelValue,params:e,paramsInput:l})};return(l,s)=>{const i=b.tk,_=v.fR,h=g.P9,F=g.AV,y=r.xE,C=m.WK,w=p.dI,U=u.S2,z=p.o5;return(0,n.uX)(),(0,n.CE)("div",f,[(0,n.bF)(_,{"content-position":"left"},{default:(0,n.k6)(()=>[(0,n.bF)(i,null,{default:(0,n.k6)(()=>[(0,n.bF)((0,d.R1)(c.N_E))]),_:1}),s[3]||(s[3]=(0,n.eW)(" 基础信息 ",-1))]),_:1}),(0,n.bF)(y,{label:"网址",prop:"origin"},{default:(0,n.k6)(()=>[(0,n.bF)(F,{"model-value":e.modelValue.origin,placeholder:"请选择网址",style:{width:"100%"},"onUpdate:modelValue":s[0]||(s[0]=e=>o("update:modelValue",{...a.modelValue,origin:e}))},{default:(0,n.k6)(()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.originOptions,e=>((0,n.uX)(),(0,n.Wv)(h,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["model-value"])]),_:1}),"custom"===e.modelValue.origin?((0,n.uX)(),(0,n.Wv)(y,{key:0,label:"自定义网址",prop:"custom"},{default:(0,n.k6)(()=>[(0,n.bF)(C,{"model-value":e.modelValue.custom,placeholder:"请输入自定义网址",maxlength:"100",formatter:e=>e.replace(/\s/g,""),"onUpdate:modelValue":s[1]||(s[1]=e=>o("update:modelValue",{...a.modelValue,custom:e}))},null,8,["model-value","formatter"])]),_:1})):(0,n.Q3)("",!0),(0,n.bF)(y,{label:"URL参数"},{default:(0,n.k6)(()=>[(0,n.bF)(z,{"model-value":e.modelValue.params,size:"small",class:"checkbox-group-box","onUpdate:modelValue":t},{default:(0,n.k6)(()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.paramOptions,e=>((0,n.uX)(),(0,n.Wv)(w,{key:e.value,border:"",value:e.value},{default:(0,n.k6)(()=>[(0,n.eW)((0,k.v_)(e.label),1)]),_:2},1032,["value"]))),128)),(0,n.bF)(U,{type:"success",circle:"",size:"small",icon:(0,d.R1)(c.FWt),onClick:s[2]||(s[2]=e=>o("create-param"))},null,8,["icon"])]),_:1},8,["model-value"])]),_:1}),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.modelValue.paramsInput,(e,l)=>((0,n.uX)(),(0,n.Wv)(y,{key:e.key,label:e.label,prop:e.key},{default:(0,n.k6)(()=>[(0,n.bF)(C,{"model-value":e.value,placeholder:`请输入${e.label}`,maxlength:100,formatter:e=>e.replace(/\s/g,""),"onUpdate:modelValue":e=>((e,l)=>{const t=[...a.modelValue.paramsInput];t[e]={...t[e],value:l},o("update:modelValue",{...a.modelValue,paramsInput:t})})(l,e)},null,8,["model-value","placeholder","formatter","onUpdate:modelValue"])]),_:2},1032,["label","prop"]))),128))])}}});var h=a(6262);const F=(0,h.A)(_,[["__scopeId","data-v-6989be64"]]);var y=a(147),C=(a(1809),a(5202));a(7248);const w={class:"style-config"},U={style:{display:"flex","align-items":"center",gap:"12px"}},z={class:"color-picker-group"},I={class:"color-item"},L={class:"color-item"},V=(0,n.pM)({__name:"StyleConfig",props:{size:{},codeColor:{},backgroundColor:{}},emits:["update:size","update:codeColor","update:backgroundColor"],setup(e,{emit:l}){const a=l;return(l,o)=>{const t=b.tk,u=v.fR,s=C.lq,i=r.xE,p=y.rF;return(0,n.uX)(),(0,n.CE)("div",w,[(0,n.bF)(u,{"content-position":"left"},{default:(0,n.k6)(()=>[(0,n.bF)(t,null,{default:(0,n.k6)(()=>[(0,n.bF)((0,d.R1)(c.vMd))]),_:1}),o[3]||(o[3]=(0,n.eW)(" 样式配置 ",-1))]),_:1}),(0,n.bF)(i,{label:"二维码尺寸"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",U,[(0,n.bF)(s,{"model-value":e.size,min:80,max:400,step:10,"step-strictly":!0,"controls-position":"right",style:{width:"150px"},"onUpdate:modelValue":o[0]||(o[0]=e=>a("update:size",e))},null,8,["model-value"]),o[4]||(o[4]=(0,n.Lk)("span",{style:{color:"#909399","font-size":"14px"}},"像素",-1))])]),_:1}),(0,n.bF)(i,{label:"颜色设置"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",z,[(0,n.Lk)("div",I,[o[5]||(o[5]=(0,n.Lk)("span",null,"码颜色",-1)),(0,n.bF)(p,{"model-value":e.codeColor,"onUpdate:modelValue":o[1]||(o[1]=e=>a("update:codeColor",e))},null,8,["model-value"])]),(0,n.Lk)("div",L,[o[6]||(o[6]=(0,n.Lk)("span",null,"背景色",-1)),(0,n.bF)(p,{"model-value":e.backgroundColor,"onUpdate:modelValue":o[2]||(o[2]=e=>a("update:backgroundColor",e))},null,8,["model-value"])])])]),_:1})])}}}),R=(0,h.A)(V,[["__scopeId","data-v-4bf8f5a2"]]);var x=a(9475),W=(a(9743),a(4437));a(8567);const E={class:"logo-config"},S={key:0,class:"logo-preview-section"},q={class:"logo-preview"},K=["src"],X={class:"logo-size-control"},O={class:"value"},D=(0,n.pM)({__name:"LogoConfig",props:{logoImage:{},logoSize:{}},emits:["update:logoImage","update:logoSize","remove-logo"],setup(e,{emit:l}){const a=l,o=e=>{const l=e.raw;if(!l)return;if(!l.type.startsWith("image/"))return void i.nk.error("只能上传图片文件！");if(!(l.size/1024/1024<2))return void i.nk.error("图片大小不能超过 2MB！");const o=new FileReader;o.onload=e=>{a("update:logoImage",e.target?.result)},o.readAsDataURL(l)};return(l,r)=>{const s=b.tk,i=v.fR,p=u.S2,m=W.j5,g=x.B8,f=t.Ik;return(0,n.uX)(),(0,n.CE)("div",E,[(0,n.bF)(i,{"content-position":"left"},{default:(0,n.k6)(()=>[(0,n.bF)(s,null,{default:(0,n.k6)(()=>[(0,n.bF)((0,d.R1)(c.VIg))]),_:1}),r[2]||(r[2]=(0,n.eW)(" Logo 配置 ",-1))]),_:1}),(0,n.bF)(f,{shadow:"never",class:"logo-config-card"},{default:(0,n.k6)(()=>[(0,n.bF)(m,{"auto-upload":!1,"show-file-list":!1,accept:"image/png,image/jpeg,image/jpg","on-change":o,class:"logo-upload"},{tip:(0,n.k6)(()=>[...r[3]||(r[3]=[(0,n.Lk)("div",{class:"upload-tip"},"支持 PNG/JPG，不超过 2MB",-1)])]),default:(0,n.k6)(()=>[(0,n.bF)(p,{icon:(0,d.R1)(c._OO),type:"primary",plain:"",size:"small"},{default:(0,n.k6)(()=>[(0,n.eW)((0,k.v_)(e.logoImage?"更换图片":"上传 Logo"),1)]),_:1},8,["icon"])]),_:1}),e.logoImage?((0,n.uX)(),(0,n.CE)("div",S,[(0,n.Lk)("div",q,[(0,n.Lk)("img",{src:e.logoImage,alt:"Logo"},null,8,K),(0,n.bF)(p,{type:"danger",size:"small",icon:(0,d.R1)(c.epd),circle:"",class:"delete-btn",onClick:r[0]||(r[0]=e=>a("remove-logo"))},null,8,["icon"])]),(0,n.Lk)("div",X,[r[4]||(r[4]=(0,n.Lk)("span",{class:"label"},"大小",-1)),(0,n.bF)(g,{"model-value":e.logoSize,min:15,max:30,step:1,"show-stops":"","onUpdate:modelValue":r[1]||(r[1]=e=>a("update:logoSize",e))},null,8,["model-value"]),(0,n.Lk)("span",O,(0,k.v_)(e.logoSize)+"%",1)])])):(0,n.Q3)("",!0)]),_:1})])}}}),M=(0,h.A)(D,[["__scopeId","data-v-410bceec"]]);var P=a(5974),j=(a(6080),a(4417)),A=(a(2075),a(5608));a(5949);const B={class:"preview-card"},Q={class:"preview-header"},G={class:"preview-content"},J={key:"result",class:"qrcode-result"},N={class:"qrcode-container"},Z={class:"qrcode-image"},$=["src"],H={class:"url-display"},T={key:"empty",class:"empty-state"},Y=(0,n.pM)({__name:"QRCodePreview",props:{qrCodeDataUrl:{},qrCodeUrl:{}},setup:e=>(l,a)=>{const t=b.tk,r=A.$g,s=j.KR,i=u.S2,p=P.x0;return(0,n.uX)(),(0,n.CE)("div",B,[(0,n.Lk)("div",Q,[(0,n.bF)(t,null,{default:(0,n.k6)(()=>[(0,n.bF)((0,d.R1)(c.Ss2))]),_:1}),a[0]||(a[0]=(0,n.Lk)("span",null,"预览",-1))]),(0,n.Lk)("div",G,[(0,n.bF)(o.eB,{name:"fade",mode:"out-in"},{default:(0,n.k6)(()=>[e.qrCodeDataUrl?((0,n.uX)(),(0,n.CE)("div",J,[(0,n.Lk)("div",N,[(0,n.Lk)("div",Z,[(0,n.Lk)("img",{src:e.qrCodeDataUrl,alt:"QR Code"},null,8,$)]),(0,n.bF)(s,{closable:!1,type:"info",style:{"margin-top":"16px"}},{title:(0,n.k6)(()=>[(0,n.Lk)("div",H,[(0,n.bF)(r,{type:"primary",style:{"font-size":"12px","line-height":"1.6"}},{default:(0,n.k6)(()=>[(0,n.eW)((0,k.v_)(e.qrCodeUrl),1)]),_:1})])]),_:1}),(0,n.bF)(i,{type:"primary",icon:(0,d.R1)(c.f5X),download:"qrcode.png",href:e.qrCodeDataUrl,tag:"a",style:{width:"100%","margin-top":"16px"}},{default:(0,n.k6)(()=>[...a[1]||(a[1]=[(0,n.eW)(" 下载二维码 ",-1)])]),_:1},8,["icon","href"])])])):((0,n.uX)(),(0,n.CE)("div",T,[(0,n.bF)(p,{description:"暂无内容"},{image:(0,n.k6)(()=>[(0,n.bF)(t,{size:80,color:"#c0c4cc"},{default:(0,n.k6)(()=>[(0,n.bF)((0,d.R1)(c.VIg))]),_:1})]),default:(0,n.k6)(()=>[a[2]||(a[2]=(0,n.Lk)("div",{style:{color:"#909399","font-size":"14px"}},'填写信息后点击"生成"按钮',-1))]),_:1})]))]),_:1})])])}}),ee=(0,h.A)(Y,[["__scopeId","data-v-4246cb14"]]);var le=a(3154);a(9124);const ae={class:"dialog-footer"},oe=(0,n.pM)({__name:"index",props:{visible:{type:Boolean}},emits:["close","submit"],setup(e,{emit:l}){const a=(0,d.KR)(),o=e,t=l,s=(0,n.EW)({get:()=>o.visible,set:e=>{e||t("close")}}),i=()=>{a.value?.resetFields(),t("close")},c=()=>{a.value?.validate(e=>{e&&(t("submit",{...p}),i())})},p=(0,d.Kh)({label:"",value:""}),g=(0,d.Kh)({label:[{required:!0,message:"参数名称不能为空",trigger:"change"}],value:[{required:!0,message:"参数值不能为空",trigger:"change"}]});return(e,l)=>{const o=m.WK,t=r.xE,d=r.US,v=u.S2,b=le.kZ;return(0,n.uX)(),(0,n.Wv)(b,{modelValue:s.value,"onUpdate:modelValue":l[2]||(l[2]=e=>s.value=e),title:"新增参数",width:"380",center:"",onClose:i},{footer:(0,n.k6)(()=>[(0,n.Lk)("div",ae,[(0,n.bF)(v,{onClick:i},{default:(0,n.k6)(()=>[...l[3]||(l[3]=[(0,n.eW)("取消",-1)])]),_:1}),(0,n.bF)(v,{type:"primary",onClick:c},{default:(0,n.k6)(()=>[...l[4]||(l[4]=[(0,n.eW)("确定",-1)])]),_:1})])]),default:(0,n.k6)(()=>[(0,n.bF)(d,{ref_key:"formRef",ref:a,model:p,rules:g,"label-position":"top"},{default:(0,n.k6)(()=>[(0,n.bF)(t,{label:"参数名称",prop:"label"},{default:(0,n.k6)(()=>[(0,n.bF)(o,{modelValue:p.label,"onUpdate:modelValue":l[0]||(l[0]=e=>p.label=e),autocomplete:"off",maxlength:"50",placeholder:"请输入参数名称",clearable:"",formatter:e=>e.replace(/\s/g,"")},null,8,["modelValue","formatter"])]),_:1}),(0,n.bF)(t,{label:"参数值",prop:"value"},{default:(0,n.k6)(()=>[(0,n.bF)(o,{modelValue:p.value,"onUpdate:modelValue":l[1]||(l[1]=e=>p.value=e),autocomplete:"off",maxlength:"100",placeholder:"请输入参数值",clearable:"",formatter:e=>e.replace(/\s/g,"")},null,8,["modelValue","formatter"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}});var te=a(7583);const re=async e=>new Promise((l,a)=>{const o=Boolean(e.logoImage&&e.logoSize),t=((e,l)=>{const a=e.length;return l||a<50?"H":a<100?"Q":a<200?"M":"L"})(e.url,o);te.toDataURL(e.url,{errorCorrectionLevel:t,width:e.size,margin:1,color:{dark:e.codeColor,light:e.backgroundColor}},async(t,r)=>{if(t)return i.nk.error("二维码生成失败"),void a(t);if(o){const a=await(u=r,s=e.logoImage,n=e.logoSize,new Promise(e=>{const l=document.createElement("canvas"),a=l.getContext("2d"),o=new Image;o.onload=()=>{l.width=o.width,l.height=o.height,a.drawImage(o,0,0);const t=new Image;t.onload=()=>{const o=l.width*(n/100),r=o,u=(l.width-o)/2,s=(l.height-r)/2;a.fillStyle="#FFFFFF",a.fillRect(u-4,s-4,o+8,r+8),a.drawImage(t,u,s,o,r),e(l.toDataURL("image/png"))},t.src=s},o.src=u}));l({dataUrl:a,url:e.url})}else l({dataUrl:r,url:e.url});var u,s,n})}),ue=[{value:"https://c.sinbaad.com",label:"薪八达个人签约"},{value:"https://test-c.sinbaad.com",label:"薪八达个人签约-测试环境"},{value:"custom",label:"自定义"}],se=[{label:"企业UUID",value:"customer_user_uuid"},{label:"供应商UUID",value:"provider_user_uuid"},{label:"岗位UUID",value:"position_uuid"},{label:"项目UUID",value:"project_uuid"},{label:"proxy_uuid",value:"proxy_uuid"},{label:"proxy_user_uuid",value:"proxy_user_uuid"}],ne={size:180,codeColor:"#000000",backgroundColor:"#FFFFFF"},de={image:"",size:20},ie={class:"qrcode-page"},ce={class:"page-header"},pe={class:"content-wrapper"},me=(0,n.pM)({__name:"qrcode",setup(e){const l=(0,d.KR)(),a=ue,o=(0,d.Kh)([...se]),p=(0,d.Kh)({origin:"",custom:"",params:[],paramsInput:[]}),m=(0,d.Kh)({...ne}),g=(0,d.Kh)({...de}),v=(0,d.KR)(""),b=(0,d.KR)(""),k=(0,d.KR)(!1),f={origin:[{required:!0,message:"请选择网址",trigger:"change"}],custom:[{required:!0,message:"请输入自定义网址",trigger:"change"},{validator:(e,l,a)=>{l?(e=>{if(!e)return!1;try{const l=new URL(e);return"http:"===l.protocol||"https:"===l.protocol}catch{return!1}})(l)?a():l.startsWith("http://")||l.startsWith("https://")?a(new Error("请输入有效的网址格式")):a(new Error("网址必须以 http:// 或 https:// 开头")):a(new Error("请输入自定义网址"))},trigger:"change"}]},_=async()=>{try{await(l.value?.validate());const e=((e,l)=>{const a=new URL(e);return l.forEach(e=>{e.value&&a.searchParams.append(e.key,e.value)}),a.toString()})("custom"===p.origin?p.custom:p.origin,p.paramsInput),a=await re({url:e,size:m.size,codeColor:m.codeColor,backgroundColor:m.backgroundColor,logoImage:g.image,logoSize:g.size});v.value=a.dataUrl,b.value=a.url}catch(e){}},h=()=>{p.params=[],p.paramsInput=[],Object.assign(m,ne),Object.assign(g,de),v.value="",b.value="",l.value?.resetFields()},y=()=>{k.value=!0},C=()=>{g.image=""},w=e=>{o.find(l=>l.value===e.value)?i.nk.warning("参数已存在"):o.push({label:e.label,value:e.value})};return(e,i)=>{const U=s.C4,z=u.S2,I=r.xE,L=r.US,V=t.Ik;return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",ie,[(0,n.Lk)("div",ce,[i[8]||(i[8]=(0,n.Lk)("h1",null,"二维码生成器",-1)),(0,n.bF)(U,{type:"primary",underline:"always",href:"https://cli.im/url",target:"_blank"},{default:(0,n.k6)(()=>[...i[7]||(i[7]=[(0,n.eW)(" 更多工具 » ",-1)])]),_:1})]),(0,n.Lk)("div",pe,[(0,n.bF)(V,{class:"form-card",shadow:"hover"},{default:(0,n.k6)(()=>[(0,n.bF)(L,{ref_key:"formRef",ref:l,model:p,"label-position":"top",rules:f},{default:(0,n.k6)(()=>[(0,n.bF)(F,{"model-value":p,"origin-options":(0,d.R1)(a),"param-options":o,"onUpdate:modelValue":i[0]||(i[0]=e=>Object.assign(p,e)),onCreateParam:y},null,8,["model-value","origin-options","param-options"]),(0,n.bF)(R,{size:m.size,"onUpdate:size":i[1]||(i[1]=e=>m.size=e),"code-color":m.codeColor,"onUpdate:codeColor":i[2]||(i[2]=e=>m.codeColor=e),"background-color":m.backgroundColor,"onUpdate:backgroundColor":i[3]||(i[3]=e=>m.backgroundColor=e)},null,8,["size","code-color","background-color"]),(0,n.bF)(M,{"logo-image":g.image,"onUpdate:logoImage":i[4]||(i[4]=e=>g.image=e),"logo-size":g.size,"onUpdate:logoSize":i[5]||(i[5]=e=>g.size=e),onRemoveLogo:C},null,8,["logo-image","logo-size"]),(0,n.bF)(I,{style:{"margin-top":"30px","margin-bottom":"0"}},{default:(0,n.k6)(()=>[(0,n.bF)(z,{type:"primary",size:"large",icon:(0,d.R1)(c.Jlk),style:{width:"48%"},onClick:_},{default:(0,n.k6)(()=>[...i[9]||(i[9]=[(0,n.eW)(" 生成 ",-1)])]),_:1},8,["icon"]),(0,n.bF)(z,{size:"large",icon:(0,d.R1)(c.Zck),style:{width:"48%"},onClick:h},{default:(0,n.k6)(()=>[...i[10]||(i[10]=[(0,n.eW)(" 重置 ",-1)])]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"])]),_:1}),(0,n.bF)(ee,{"qr-code-data-url":v.value,"qr-code-url":b.value},null,8,["qr-code-data-url","qr-code-url"])])]),(0,n.bF)(oe,{visible:k.value,onClose:i[6]||(i[6]=e=>k.value=!1),onSubmit:w},null,8,["visible"])],64)}}}),ge=(0,h.A)(me,[["__scopeId","data-v-0daf13c4"]]);(0,o.Ef)(ge).mount("#app")}},e=>{e.O(0,[288,710,96,869],()=>{return l=8260,e(e.s=l);var l});e.O()}]);