"use strict";(self.webpackChunktools_app_webpack=self.webpackChunktools_app_webpack||[]).push([[125],{7161:(e,l,a)=>{var u=a(3751),o=a(8848),t=(a(8134),a(5620),a(5608)),r=(a(5949),a(7710)),d=(a(2120),a(2374)),n=(a(7248),a(147)),s=(a(1809),a(9942)),p=(a(6446),a(7879)),i=(a(3474),a(7540),a(3938)),m=(a(5455),a(1627),a(5359)),b=(a(8899),a(1601),a(8574)),c=(a(2636),a(641)),v=a(33),f=a(953),k=a(8548),_=a(7583),F=a(5393);a(9124);const g={class:"dialog-footer"},h=(0,c.pM)({__name:"index",props:{visible:{type:Boolean}},emits:["close","submit"],setup(e,{emit:l}){const a=(0,f.KR)(),u=e,o=l,t=(0,c.EW)({get:()=>u.visible,set:e=>{e||o("close")}}),d=()=>{a.value?.resetFields(),o("close")},n=()=>{a.value?.validate(e=>{e&&(o("submit",{...s}),d())})},s=(0,f.Kh)({label:"",value:""}),m=(0,f.Kh)({label:[{required:!0,message:"参数名称不能为空",trigger:"change"}],value:[{required:!0,message:"参数值不能为空",trigger:"change"}]});return(e,l)=>{const u=i.WK,o=r.xE,b=r.US,v=p.S2,f=F.kZ;return(0,c.uX)(),(0,c.Wv)(f,{modelValue:t.value,"onUpdate:modelValue":l[2]||(l[2]=e=>t.value=e),title:"新增参数",width:"380",center:"",onClose:d},{footer:(0,c.k6)(()=>[(0,c.Lk)("div",g,[(0,c.bF)(v,{onClick:d},{default:(0,c.k6)(()=>[...l[3]||(l[3]=[(0,c.eW)("取消",-1)])]),_:1}),(0,c.bF)(v,{type:"primary",onClick:n},{default:(0,c.k6)(()=>[...l[4]||(l[4]=[(0,c.eW)("确定",-1)])]),_:1})])]),default:(0,c.k6)(()=>[(0,c.bF)(b,{model:s,rules:m,"label-position":"top",ref_key:"formRef",ref:a},{default:(0,c.k6)(()=>[(0,c.bF)(o,{label:"参数名称",prop:"label"},{default:(0,c.k6)(()=>[(0,c.bF)(u,{modelValue:s.label,"onUpdate:modelValue":l[0]||(l[0]=e=>s.label=e),autocomplete:"off",maxlength:"50",placeholder:"请输入参数名称",clearable:"",formatter:e=>e.replace(/\s/g,"")},null,8,["modelValue","formatter"])]),_:1}),(0,c.bF)(o,{label:"参数值",prop:"value"},{default:(0,c.k6)(()=>[(0,c.bF)(u,{modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=e=>s.value=e),autocomplete:"off",maxlength:"100",placeholder:"请输入参数值",clearable:"",formatter:e=>e.replace(/\s/g,"")},null,8,["modelValue","formatter"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}});var y=a(5718);const V={class:"card-header"},U={style:{display:"flex",gap:"16px","flex-wrap":"wrap"}},x={class:"qrcode-container"},w=["src"],K=(0,c.pM)({__name:"qrcode",setup(e){const l=(0,f.KR)(),a=[{value:"https://c.sinbaad.com",label:"薪八达个人签约"},{value:"https://test-c.sinbaad.com",label:"薪八达个人签约-测试环境"},{value:"custom",label:"自定义"}],F=(0,f.Kh)([{label:"企业UUID",value:"customer_user_uuid"},{label:"供应商UUID",value:"provider_user_uuid"},{label:"岗位UUID",value:"position_uuid"},{label:"项目UUID",value:"project_uuid"},{label:"proxy_uuid",value:"proxy_uuid"},{label:"proxy_user_uuid",value:"proxy_user_uuid"}]),g=(0,f.KR)("#000000"),K=(0,f.KR)("#FFFFFF"),W=(0,f.KR)(180),C=(0,f.Kh)({origin:"",custom:"",params:[],paramsInput:[]}),I={origin:[{required:!0,message:"请选择网址",trigger:"change"}],custom:[{required:!0,message:"请输入自定义网址",trigger:"blur"}]},R=e=>{C.paramsInput=e.map(e=>{const l=String(e),a=F.find(e=>e.value===l),u=C.paramsInput.find(e=>e.key===l);return{value:u?u.value:"",label:a?a.label:"",key:l}})},L=(0,f.KR)(""),E=(0,f.KR)(""),q=async()=>{try{await(l.value?.validate());const e=new URL("custom"===C.origin?C.custom:C.origin);C.paramsInput.forEach(l=>{l.value&&e.searchParams.append(l.key,l.value)}),E.value=e.toString(),_.toDataURL(E.value,{width:W.value,margin:1,color:{dark:g.value,light:K.value}},(e,l)=>{L.value=l})}catch(e){return}},X=()=>{C.paramsInput=[],g.value="#000000",K.value="#FFFFFF",W.value=180,l.value?.resetFields()},S=(0,f.KR)(!1),z=()=>{S.value=!0},D=e=>{F.find(l=>l.value===e.value)?y.nk.warning("参数已存在"):F.push({label:e.label,value:e.value})};return(e,_)=>{const y=b.C4,A=m.P9,M=m.AV,O=r.xE,P=i.WK,Q=s.dI,$=p.S2,j=s.o5,B=n.rF,G=d.lq,Z=r.US,H=t.$g,J=o.Ik;return(0,c.uX)(),(0,c.CE)(c.FK,null,[(0,c.bF)(J,{style:{"max-width":"800px",margin:"30px auto"},shadow:"hover"},{header:(0,c.k6)(()=>[(0,c.Lk)("div",V,[_[8]||(_[8]=(0,c.Lk)("span",null,"生成二维码",-1)),(0,c.bF)(y,{type:"primary",underline:"always",href:"https://cli.im/url",target:"_blank"},{default:(0,c.k6)(()=>[..._[7]||(_[7]=[(0,c.eW)("更多>>",-1)])]),_:1})])]),default:(0,c.k6)(()=>[(0,c.bF)(Z,{model:C,size:"large","label-position":"top",ref_key:"formRef",ref:l,rules:I},{default:(0,c.k6)(()=>[(0,c.bF)(O,{label:"网址",prop:"origin"},{default:(0,c.k6)(()=>[(0,c.bF)(M,{modelValue:C.origin,"onUpdate:modelValue":_[0]||(_[0]=e=>C.origin=e),placeholder:"请选择网址"},{default:(0,c.k6)(()=>[((0,c.uX)(),(0,c.CE)(c.FK,null,(0,c.pI)(a,e=>(0,c.bF)(A,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),"custom"===C.origin?((0,c.uX)(),(0,c.Wv)(O,{key:0,label:"自定义网址",prop:"custom"},{default:(0,c.k6)(()=>[(0,c.bF)(P,{modelValue:C.custom,"onUpdate:modelValue":_[1]||(_[1]=e=>C.custom=e),placeholder:"请输入自定义网址",maxlength:"100",formatter:e=>e.replace(/\s/g,"")},null,8,["modelValue","formatter"])]),_:1})):(0,c.Q3)("",!0),(0,c.bF)(O,{label:"URL参数",prop:"params"},{default:(0,c.k6)(()=>[(0,c.bF)(j,{modelValue:C.params,"onUpdate:modelValue":_[2]||(_[2]=e=>C.params=e),onChange:R,size:"default",class:"checkbox-group-box"},{default:(0,c.k6)(()=>[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(F,e=>((0,c.uX)(),(0,c.Wv)(Q,{border:"",key:e.value,value:e.value},{default:(0,c.k6)(()=>[(0,c.eW)((0,v.v_)(e.label),1)]),_:2},1032,["value"]))),128)),(0,c.bF)($,{type:"success",circle:"",size:"default",icon:(0,f.R1)(k.FWt),onClick:z},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(C.paramsInput,e=>((0,c.uX)(),(0,c.Wv)(O,{key:e.key,label:e.label,prop:e.key},{default:(0,c.k6)(()=>[(0,c.bF)(P,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:`请输入${e.label}`,maxlength:100,formatter:e=>e.replace(/\s/g,"")},null,8,["modelValue","onUpdate:modelValue","placeholder","formatter"])]),_:2},1032,["label","prop"]))),128)),(0,c.bF)(O,{label:"二维码风格",prop:"style",size:"default"},{default:(0,c.k6)(()=>[(0,c.Lk)("div",U,[(0,c.Lk)("span",null,[_[9]||(_[9]=(0,c.eW)(" 码颜色：",-1)),(0,c.bF)(B,{modelValue:g.value,"onUpdate:modelValue":_[3]||(_[3]=e=>g.value=e)},null,8,["modelValue"])]),(0,c.Lk)("span",null,[_[10]||(_[10]=(0,c.eW)(" 背景色：",-1)),(0,c.bF)(B,{modelValue:K.value,"onUpdate:modelValue":_[4]||(_[4]=e=>K.value=e)},null,8,["modelValue"])])])]),_:1}),(0,c.bF)(O,{label:"二维码尺寸",size:"default"},{default:(0,c.k6)(()=>[(0,c.bF)(G,{modelValue:W.value,"onUpdate:modelValue":_[5]||(_[5]=e=>W.value=e),min:80,max:400,step:"10","step-strictly":!0},null,8,["modelValue"])]),_:1}),(0,c.bF)(O,null,{default:(0,c.k6)(()=>[(0,c.bF)($,{type:"primary",onClick:q},{default:(0,c.k6)(()=>[..._[11]||(_[11]=[(0,c.eW)("生成二维码",-1)])]),_:1}),(0,c.bF)($,{onClick:X},{default:(0,c.k6)(()=>[..._[12]||(_[12]=[(0,c.eW)("重置参数",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),(0,c.bo)((0,c.Lk)("div",x,[(0,c.bF)(H,{type:"warning","line-clamp":"100",style:{"word-break":"break-word"}},{default:(0,c.k6)(()=>[(0,c.eW)((0,v.v_)(E.value),1)]),_:1}),(0,c.Lk)("img",{src:L.value,alt:"QR Code"},null,8,w),(0,c.bF)(y,{type:"primary",underline:"never",download:"qrcode.png",href:L.value},{default:(0,c.k6)(()=>[..._[13]||(_[13]=[(0,c.eW)("保存到本地",-1)])]),_:1},8,["href"])],512),[[u.aG,!!L.value]])]),_:1}),(0,c.bF)(h,{visible:S.value,onClose:_[6]||(_[6]=e=>S.value=!1),onSubmit:D},null,8,["visible"])],64)}}});const W=(0,a(6262).A)(K,[["__scopeId","data-v-45dbdffa"]]);(0,u.Ef)(W).mount("#app")}},e=>{e.O(0,[288,710,96,869],()=>{return l=7161,e(e.s=l);var l});e.O()}]);